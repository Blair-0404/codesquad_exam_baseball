<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>신나는야구게임 2단계</title>
</head>

<body>
    <script>
        //Player 생성자
        function Player(name, hitRate) {
            this.name = name;
            this.hitRate = hitRate;
        }
        //Team생성자
        function Team(name,players) {
            this.name = name;
            this.players = players; //Player[]
            
        }
        var baseball = {}

        baseball.team = [];
        
        baseball.score = {
            inning: 1,
            strike: 0,
            ball: 0,
            out: 0,
            hit: 0
        }
        baseball.getSign = function () {
            return this.score.strike + 'S ' + this.score.ball + 'B ' + this.score.out + 'O';
        }
        baseball.processStrike = function () {
            console.log('스트라이크!');
            this.score.strike++;
            if (this.score.strike === 3) {
                this.processOut();
            }
        }
        baseball.processBall = function () {
            console.log('볼!');
            this.score.ball++;
            if (this.score.ball === 4) {
                this.processHit();
            }
        }
        baseball.resetStrikeBallcount = function () {
            this.score.strike = 0;
            this.score.ball = 0;
        }
        baseball.processOut = function () {
            var message = '아웃!';
            this.score.out++;
            if (this.score.out < 3) {
                message += '다음 타자가 타석에 입장했습니다.';
            }
            this.resetStrikeBallcount();
            console.log(message);
        }
        baseball.processHit = function () {
            console.log('안타! 다음 타자가 타석에 입장했습니다.');
            this.score.hit++;
            this.resetStrikeBallcount();
        }
        baseball.setResult = function (result) {
            switch (result) {
                case 0: //strike
                    this.processStrike();
                    break;
                case 1: //ball
                    this.processBall();
                    break;
                case 2: //out
                    this.processOut();
                    break;
                case 3: //hit
                    this.processHit();
                    break;
                default:
                    console.error('error');
            }
            console.log(this.getSign());
        }
        baseball.insertDate = function (teamNumber) {
            const name = prompt(teamNumber + '팀의 이름을 입력하세요>');
            var count = 0;
            var players = [];
            while (count < 2) { //팀당 9명
                const input = ptompt((count + 1) + '번 타자 정보 입력>').split(',');
                const player = new Player(input[0], input[1].trim() * 1);
                players.push(player);
                count++;
            }
            const newTeam = new Team(name,players);
            this.team.push(newTeam);
        }



        baseball.selctMenu = function() {
            const select = prompt('메뉴선택(1 - 3)');
            if (!select) {
                console.log('게임을 종료합니다.');
                return;
            }
        switch (select) {
            case '1' : //데이터입력
            this.team = [];
            for (var numver = 1; number <= 2; ++number) {
                this.insertData(number);
            }
            console.log('팀 데이터 입력이 완료되었습니다.');
            this.printInit();
            this.selctMenu();
            break;


        }
        }
        baseball.printInit = function() {
            console.log('신나는 야구시합');
            console.log('1. 데이터 입력');
            console.log('2. 데이터 출력');
            console.log('3. 시합 시작');
        }
        baseball.printInit();
        baseball.selctMenu();
    </script>
</body>

</html>